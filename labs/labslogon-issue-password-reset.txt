# ğŸ§ª Lab: Domain User Cannot Log In â€“ Password Policy Conflict

## ğŸ“ Summary

Simulated a real-world IT support ticket where a newly created Active Directory user (`jthomas`) was unable to log into a Windows client machine. The issue was resolved by identifying a default password reset requirement that blocked interactive login on non-server clients.

---

## ğŸ¯ Scenario

- Domain: `dhwanit.local`
- Domain Controller: Windows Server 2019 (DC)
- Client Machine: Windows 10 (joined to domain)
- User Created: `jthomas`, placed in `Marketing` OU

### Reported Issue:
> "User `jthomas` cannot log in from the domain-joined client machine using the correct credentials."

---

## ğŸ› ï¸ Tools Used

| Tool | Purpose |
|------|---------|
| **Active Directory Users and Computers (ADUC)** | Reset user password, configure account flags |
| **Client Login Screen** | Attempt login with UPN and NetBIOS formats |
| **Event Viewer (DC)** | Verified successful Kerberos ticket issuance (Event ID 4768) |
| **Command Prompt** | Verified network connectivity and domain trust (optional) |

---

## ğŸ§© Root Cause

By default, newly created AD users are set to:

> âœ… "User must change password at next logon"

However, Windows 10/11 **client login screens do not support interactive password change prompts** for domain users at first login. This results in a **silent login failure**, even with valid credentials.

---

## ğŸ§ª Troubleshooting Process

1. Attempted login as:
   - `jthomas@dhwanit.local`
   - `DHWANIT\jthomas`
   - Using correct password: `Secret55`

2. Checked **Event Viewer (Security log)** on DC:
   - Event ID 4768 (Success): Kerberos ticket issued for `jthomas` âœ…
   - No 4625 (failed logon): confirmed credentials were correct

3. In ADUC:
   - Found `jthomas` under `Marketing` OU
   - Right-click â†’ Reset Password
   - Set password manually and unchecked:
     - "User must change password at next logon"
     - Optionally checked "Password never expires"

4. Retried login from client PC â†’ âœ… Success

---

## âœ… Resolution

- Password was reset manually with flags properly adjusted
- No GPO or permission changes were needed
- User could log in successfully to the client after reboot

---

## ğŸ§  Lessons Learned

- Always uncheck â€œUser must change passwordâ€ for **first-time logins** on client PCs
- Event Viewer logs can confirm whether the domain *trusted* the credentials
- Authentication â‰  Authorization â€” user can be verified but still blocked from logging in
- Create reusable user templates in AD with pre-configured settings for labs and testing

---

## ğŸ“¸ Screenshots (Optional for GitHub)

- [ ] Screenshot of ADUC password reset screen
- [ ] Screenshot of Event Viewer with Event ID 4768
- [ ] Screenshot of successful login as `jthomas`

---

## ğŸ”— Related Labs

- [ ] Lab 2: Access Denied to Shared Folder â€“ NTFS vs Share Permissions
- [ ] Lab 3: GPO Misapplied â€“ User Cannot Log On Locally
